<!DOCTYPE html>
<html lang="en" ng-app="app" ng-controller="ctrl">

<table border="1">
    <tr>
        <th>id</th>
        <th>name</th>
        <th>age</th>
    </tr>

    <tr ng-repeat="x in var_one">
        <td>{{x.id}}</td>
        <td>{{x.name}}</td>
        <td>{{x.age}}</td>
    </tr>
</table>


<br>

<table border="1">
    <tr>
        <th>eno</th>
        <th>ename</th>
        <th>eage</th>
    </tr>

    <tr ng-repeat="x in var_two">
        <td>{{x.eno}}</td>
        <td>{{x.ename}}</td>
        <td>{{x.eage}}</td>
    </tr>
</table>



<br>

<table border="1">
    <tr>
        <th>id</th>
        <th>name</th>
        <th>rank</th>
    </tr>

    <tr ng-repeat="x in var_three">
        <td>{{x.id}}</td>
        <td>{{x.name}}</td>
        <td>{{x.rank}}</td>
    </tr>
</table>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular.min.js"></script>
<script>
    var app = angular.module("app",[]);
    app.service("my_service",my_service);


    my_service.$inject=["$http","$q"];
    function my_service($http,$q) {

        var deffered_one  = $q.defer();
        this.fun_one = function () {
            return $http.get("http://localhost:8080/static").then(function (response) {
                deffered_one.resolve(response.data.emp);
                return deffered_one.promise;
            },function (response) {
                deffered_one.reject(response);
                return deffered_one.promise;
            });
        };



        var deffered_two = $q.defer();
        this.fun_two = function () {
            return $http.get("http://localhost:8080/mysql").then(function (response) {
                deffered_two.resolve(response.data);
                return deffered_two.promise;
            },function (response) {
                deffered_two.reject(response);
                return deffered_two.promise;
            });
        };


        var deffered_three = $q.defer();
        this.fun_three = function () {
            return $http.get("http://localhost:8080/mongodb").then(function (response) {
                deffered_three.resolve(response.data);
                return deffered_three.promise;
            },function (response) {
                deffered_three.reject(response);
                return deffered_three.promise;
            });
        };


    };


    app.controller("ctrl",ctrl);
    ctrl.$inject=["$scope","my_service","$q"];
    function ctrl($scope,my_service,$q) {
        /*my_service.fun_one().then(function (response) {
            $scope.var_one = response;
        });

        my_service.fun_two().then(function (response) {
            $scope.var_two = response;
        });


        my_service.fun_three().then(function (response) {
            $scope.var_three = response;
        });*/

        $q.all([my_service.fun_one(),my_service.fun_two(),my_service.fun_three()]).then(function (response) {
            $scope.var_one = response[0];
            $scope.var_two = response[1];
            $scope.var_three = response[2];
        });

    };




</script>
</html>